<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <title>AR.js – Cubo, Esfera y Cilindro en marcador Hiro</title>
  <!-- A‑Frame -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!-- AR.js para A‑Frame -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
  </style>
</head>
<body>
  <!-- Escena AR -->
  <a-scene
    embedded
    renderer="antialias: true"
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;">

    <!-- Luces básicas -->
    <a-entity light="type: ambient; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="1 2 1"></a-entity>

    <!-- Marcador Hiro con eventos para mostrar/ocultar Marcador personalizado -->
    <a-marker type="pattern" url="pattern-LogoPerzonalizado.patt" id="miMarker">
      <a-entity id="shapesGroup">

     <!-- Texto para mi bloc de notas -->
    <!--<a-text id="miTexto" value="Cargando..." rotation="-90 0 0" position="0 1 0" color="black" width="2"></a-text>
     <!-- Fondo de la trajeta-->
		<!--<a-plane rotation ="-90 0 0" position="0.5 0 0" width="3" height="1.3" color="blue" ></a-plane>
     <!-- Espacio de la tarjeta-->
		<!--<a-box rotation = "-90 0 0" position="-0.3 0 0" depth="0.05" height="1.1" width="1.2" color="white" opacity="0.5"></a-box>
     <!--Imagen-->
    <a-image src="Tarjeta-Presentacion.png" rotation ="-90 0 0" scale="1 1 1" width="3" height="1.5"></a-image>
     <!-- (Opcional) base invisible para referencia -->
    <a-plane rotation="-90 0 0" width="1.8" height="1.8" opacity="0.0"></a-plane>

      </a-entity>
    </a-marker>

      <!-- Cámara -->
    <a-entity camera></a-entity>
  </a-scene>


  <script>
    // Cargar el archivo de texto y ponerlo en <a-text>
    fetch("archivo.txt")
      .then(res => res.text())
      .then(data => {
        document.getElementById("miTexto").setAttribute("value", data);
      })
      .catch(err => console.error("Error cargando texto:", err));

    const marker = document.querySelector('#hiroMarker');
    const shapes = document.querySelector('#shapesGroup');

    marker.addEventListener('markerFound', () => {
      shapes.setAttribute('visible', 'true');
    });

    marker.addEventListener('markerLost', () => {
      shapes.setAttribute('visible', 'false');
    });

    // Al inicio ocultamos los objetos
    shapes.setAttribute('visible', 'false');
  </script>
</body>
</html>
